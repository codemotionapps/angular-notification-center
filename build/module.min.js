/*!
 * angular-notification-center
 * https://github.com/codemotionapps/angular-notification-center
 * Version: 0.0.1 - 2016-11-08T02:45:10.716Z
 * License: GPL-3.0
 */
!function(i,t){"use strict";"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],t):t(i.angular)}(this,function(i){"use strict";i.module("notificationCenter",[]).provider("notification",function(){function t(){l=!0,N.forEach(function(i){i()})}var n,o,e,a,c,s,f,r=!1,l=!1,u=!1,d={value:0},N=[],g=[],m=void 0===localStorage||"true"===localStorage.getItem("disabledNotifications"),p=("Notification"in window&&void 0!==Notification&&"granted"===Notification.permission,{value:!1,set:function(i){this.value=i,this.callbacks.forEach(function(t){t(i)})},get:function(){return this.value},callbacks:[],addCallback:function(i){this.callbacks.push(i)}});this.loading=p,s=function(i){for(var t=0;t<i.length;t++){var n=i[t];n.ready=notificationToString(n),0!=g.length&&g[0].time==n.time||g.push(n)}p.set(!1),u=!0},c=function(t,n,o,e,a){if(++d.value,t.ready=notificationToString(t),g.unshift(t),f){var c=n.$new();c.item=t;var s=i.element("<div></div>");s.html(a.get(NCSigleNTemlpateURL)),s=o(s)(c),setTimeout(function(){s=s.text().trim(),s=s.replace(/\s\s+/g," "),new spawnNotification("Ora",s,n.clickNotification,m)},200)}else{var c=n.$new();c.item=t;var s=i.element("<div></div>");s.html(a.get(NCSigleNTemlpateURL)),s=o(s)(c),setTimeout(function(){e.create({className:"notifi-cell",content:s[0].outerHTML})},200)}},o=function(i){d.value=i},this.setPermission=function(i){i===!0&&r!==!0&&e(),r=i},this.noMoreNotificationsAdd=function(i){N.push(i)},this.getDeveloperNotifications=function(i){n=i},this.getDeveloperUnseenNotificationsNumber=function(i){e=i},this.seeNotifications=function(i){a=i},this.inlineNotification=function(i){f=!i},this.$get=function(){return{notifications:g,loaded:u,allNotificationsLoaded:function(){return l},loadingTrue:function(){p.set(!0)},loadMoreNotifications:function(){p.get()||(p.set(!0),n(g.length))},seeNotifications:function(){a();for(var i=0;i<g.length;i++)"False"==g[i].seen&&(g[i].seen="True");d.value=0},noMoreNotificationsAdd:this.noMoreNotificationsAdd,inlineNotification:this.inlineNotification,setPermission:this.setPermission,newNotification:c,setNotifications:s,notificationsNumber:o,noMoreNotifications:t,loading:p,unreadNotifications:d}}}).directive("notificationsCenter",["notification",function(i){return{restrict:"A",scope:!1,link:function(t,n,o){t.noMoreNotifications=!1,i.noMoreNotificationsAdd(function(){t.scrollMore=!0,t.noMoreNotifications=!0,t.$$phase||t.$apply()}),t.notifications=i.notifications,t.loadMoreNotifications=i.loadMoreNotifications,t.unreadNotifications=i.unreadNotifications,t.loaded=i.loaded,t.openIt=function(){i.seeNotifications()}}}}]).directive("notificationCenterWrap",["notification",function(i){return{restrict:"A",templateUrl:NCTemplateURL,scope:!1,link:function(i,t,n){}}}]).directive("notification",["notification",function(i){return{templateUrl:NCSigleNTemlpateURL,scope:!1,link:function(i,t,n){t.addClass("hidden")}}}]).directive("singleNotification",["notification",function(i){return{restrict:"A",templateUrl:NCSigleNTemlpateURL,scope:!0}}])});